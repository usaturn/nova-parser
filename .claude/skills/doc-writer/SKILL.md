---
name: doc-writer
description: 実装した機能の使用方法を README.md や docs/ 配下にドキュメントとして記述するスキル。新しい機能やコマンドを実装した後、またはユーザーがドキュメント更新・作成を依頼した時にトリガーする。
---

# Doc Writer

## Overview

実装済みの機能・コマンドの使用方法を README.md および `docs/` 配下に記述するスキル。プロジェクトの設定ファイル（`pyproject.toml` 等）とソースコードから情報を収集し、整理されたドキュメントを生成する。README.md は必要最低限の概要に留め、詳細なドキュメントは `docs/` 配下に配置する。

## ワークフロー

### 1. 情報収集

README.md を更新する前に、以下のソースから情報を収集する:

1. **`pyproject.toml`** を読み取り、以下を確認する:
   - `[project]` セクション: name, version, description, requires-python
   - `[project.scripts]`: CLI コマンドのエントリポイント
   - `[tool.taskipy.tasks]`: タスクランナーのコマンド定義
   - `[project.dependencies]` / `[dependency-groups]`: 依存パッケージ
2. **ソースコード**: エントリポイントや主要モジュールの実装を確認し、引数・オプション・環境変数を把握する
3. **`.env.example`** または **`.env`**: 必要な環境変数を確認する
4. **既存の README.md**: 既に記述されている内容を確認し、重複を避ける

### 2. ドキュメント配置の判断

収集した情報をもとに、ドキュメントの配置先を判断する:

- **README.md のみで十分な場合**: ドキュメントの内容がクイックスタートに収まる程度のシンプルな機能
- **`docs/` 配下にも作成する場合**: 詳細な説明・オプション・使用例が必要な機能

`docs/` 配下に作成する場合の追加判断:
- `docs/` に関連する既存ドキュメントがあれば → そのファイルに追記する
- なければ → 新規ファイルを作成する（例: `docs/usage.md`, `docs/cli.md`, `docs/configuration.md`）

### 3. README.md の構成

README.md はプロジェクト概要として必要最低限の内容に留める。

```markdown
# プロジェクト名

プロジェクトの概要（1-2文）

## セットアップ

### 前提条件

- 必要なランタイム・ツール（Python バージョン、uv 等）

### インストール

依存パッケージのインストール手順

### 環境変数

必要な環境変数の一覧と説明（テーブル形式）

## クイックスタート

最も基本的な使い方のみ（数行のコマンド例程度）

## ドキュメント

詳細ドキュメントへのリンク一覧（docs/ 配下にドキュメントがある場合）

- [使い方の詳細](docs/usage.md)
- [CLI リファレンス](docs/cli.md)

## 開発

### 開発環境のセットアップ

開発に必要な追加手順

### タスク一覧

taskipy 等で定義されたタスクの一覧
```

### 4. `docs/` 配下のドキュメント

詳細な説明が必要な機能は `docs/` 配下にドキュメントを作成する。

- 機能の詳細な使い方、全オプションの説明、実行例を記述する
- ファイル名は内容を端的に表す名前にする（例: `usage.md`, `cli.md`, `configuration.md`, `api.md`）
- 各ドキュメントの冒頭にはそのドキュメントが何を説明するかを1文で記述する
- README.md の「ドキュメント」セクションからリンクを張る

### 5. 記述ルール

- **言語**: プロジェクトの CLAUDE.md に指定がある場合はその言語で記述する。指定がない場合はソースコードのコメント言語に合わせる
- **コマンド例**: 実際に実行可能なコマンド例を記載する。パッケージマネージャに応じて `uv run`、`npm run` 等を使い分ける
- **環境変数**: テーブル形式で変数名・説明・必須/任意・デフォルト値を記載する
- **不要なセクション**: プロジェクトに該当しないセクションは省略する（例: CLI コマンドがなければ「コマンド一覧」は不要）
- **過剰な記述を避ける**: 実装されていない機能や将来の計画は書かない。現在動作するものだけを記述する

### 6. 更新時の注意

- 既存の README.md の内容を尊重し、ユーザーが手動で追加した内容を削除しない
- 既存の `docs/` 配下のドキュメントがあれば内容を確認し、重複を避けて追記する
- 新しい機能を追加した場合は、該当するセクションに追記する
- README.md に詳細を書きすぎない。詳細は `docs/` に分離し、README.md からリンクする
